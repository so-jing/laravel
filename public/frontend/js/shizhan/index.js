define("index/index",["require","jquery","index/index"],function(t){function e(){$("#js-index-video").show(),$("#js-video-close").click(function(){$("#js-index-video").hide().find("#js-video").empty()})}var i=function(t,e){function i(){n(),o(),a()}function n(){u.html("");for(var t=0;m>t;t++){var e=f.eq(t);t<l.fristShowNum?(w[t]={left:e.position().left,top:e.position().top,zIndex:e.css("z-index"),width:e.width(),boxShadow:e.css("box-shadow")},l.isOpacity&&(w[t].opacity=e.css("opacity")),e.css("left",w[t].left)):e.css({left:w[l.fristShowNum-1].left}),x.push(e),u.append("<li></li>")}v=u.find(">li"),v.eq(0).addClass("active"),l.isClickImg&&f.eq(2).addClass("active")}function o(){function t(t,e){t.on("click",function(){g=parseInt($(this).index()-e),y&&S!=g&&(y=0,I=Math.abs(g-S),b=g>S?"next":"prev",I>Math.ceil(m/2)&&(I=m-I,b="next"==b?"prev":"next"),k=0,s(),I>1&&(r=setInterval(function(){y&&(s(),y=0,k>=I&&clearInterval(r))},50)))})}c.on("mouseover",function(){clearInterval(d)}).on("mouseleave",function(){a()}),l.isClickImg?(t(f,2),t(v,0)):t(v,0),h.on("click",function(){y&&(b="next",y=0,g==m-1?g=0:g++,s())}),p.on("click",function(){y&&(b="prev",y=0,0==g?g=m-1:g--,s())})}function a(){d=setInterval(function(){h.click()},l.autoRollingTime)}function s(){if("next"==b){for(var t=0;t<l.fristShowNum;t++){var e=w[t-1];0==t?x[t].fadeOut(l.moveSpeed):x[t].css({"z-index":e.zIndex,"box-shadow":e.boxShadow,opacity:e.opacity}).animate({left:e.left,top:e.top,width:e.width},l.moveSpeed)}var e=w[l.fristShowNum-1],i={left:e.left,top:e.top,width:e.width,"z-index":e.zIndex,"box-shadow":e.boxShadow,opacity:e.opacity};x.length!=l.fristShowNum?x[l.fristShowNum].css(i).fadeIn(l.moveSpeed,function(){y=1}):x[0].stop().css(i).fadeIn(l.moveSpeed,function(){y=1}),x.push(x.shift())}else{for(var n=0;n<l.fristShowNum;n++){var e=w[n+1];n==l.fristShowNum-1?x[n].css("z-index",0).fadeOut(l.moveSpeed):x[n].css({"z-index":e.zIndex,"box-shadow":e.boxShadow,opacity:e.opacity}).animate({left:e.left,top:e.top,width:e.width},l.moveSpeed)}var e=w[0];x[x.length-1].stop().css({left:e.left,top:e.top,width:e.width,"z-index":e.zIndex,"box-shadow":e.boxShadow,opacity:e.opacity}).fadeIn(l.moveSpeed,function(){y=1}),x.unshift(x.pop())}v.removeClass("active"),v.eq(g).addClass("active"),l.isClickImg&&(f.removeClass("active"),f.eq(g).addClass("active")),S=g,k++}var c=$(t),l={moveSpeed:100,autoRollingTime:8e3,fristShowNum:3,isDots:!0,isPrevNext:!0,isOpacity:!0,isClickImg:!1,dotsEvent:"click"};c.extend(l,e);var d,r,f=c.find(".banner-box >li"),u=c.find(".banner-dots"),v=u.find(">li"),p=c.find(".prev"),h=c.find(".next"),m=f.length,w=[],x=[],y=1,b="next",g=0,I=0,S=0,k=0;i()};i(".banner-bg"),i(".scroll_div",{isOpacity:!0,moveSpeed:100,autoRollingTime:5e3,dotsEvent:"mouseover",fristShowNum:5,isClickImg:!0});var n,o=0,a=0,s=function(){var t=6500,e=$(".star-item li"),i=e.length;if(a=Math.ceil(i/4),i%4>0&&i>4)for(var s=0;4-i%4>s;s++)$(".star-item").append(e.eq(s).clone());if(i=$(".star-item li").length,i>=8){$(".star-item").css("width",300*(i+4)+"px");for(var s=0;4>s;s++)$(".star-item").append(e.eq(s).clone())}else $(".star-item").css("width",300*i+"px");n=setInterval(function(){o++,c()},t),$(".js-star-item-btn li").on("click",function(){clearInterval(n),n=null,o=$(this).index(),c(),n=setInterval(function(){o++,c()},t)}),e.on("mouseover",function(){clearInterval(n),n=null}).on("mouseout",function(){n=setInterval(function(){o++,c()},t)})},c=function(){o>a&&(o=a);var t=1200*o;$(".slide-draw").show(),$(".star-item").animate({left:"-"+t+"px"},1500,function(){$(".slide-draw").hide(),o==a&&(o=0,$(".star-item").css({left:"0px"})),$(".js-star-item-btn li").removeClass("on").eq(o).addClass("on")})};$(".js-star-item-btn").length&&s();var l=navigator.userAgent.toLowerCase(),d=!!l.match(/ipad/i);$("body").on("click",".js-play",function(){d?t(["/static/lib/jwplayer/1.0.0/webjwplayer.js"],function(){jwplayer("js-video").setup({startparam:"start",autostart:!0,width:"900",height:"500",videotitile:"实战课程_慕课网",file:"http://video.mukewang.com/sz.mp4",events:{onReady:function(){this.play()}}})}):t(["common/js/player"],function(t){t.init({id:"js-video",url:"http://video.mukewang.com/sz.mp4",videotitile:"实战课程_慕课网",width:"800",height:"500",events:{onReady:function(){this.play()}}})}),e()}),!function(){$(document).on("click","[data-track]",function(){$.ajax({url:"//www.imooc.com/index/clickuserlog",type:"GET",dataType:"jsonp",data:{track:$(this).attr("data-track"),r:(new Date).getTime()}})})}();var r=function(){var t=$(".scroll_div .banner-box").find("li");t.each(function(e){var i=$(t[e]).find("p");i.text().length>225&&i.html(i.text().slice(0,225)+"...")})};r();var f=function(t){var e=Math.floor(t/3600),i=Math.floor(t%3600/60),n=Math.floor(t%3600%60);return e=10>e?"0"+e:e,i=10>i?"0"+i:i,n=10>n?"0"+n:n,e+":"+i+":"+n},u=function(t,e){t--,$(e).html(f(t)),t>0?setTimeout(function(){u(t,e)},1e3):clearInterval(u)};$(function(){$.each($(".js-sales-timer"),function(t,e){var i=$(e).data("timer");i&&u(i,e)})})});