define(function(require,exports,module){require("common"),require("./u_common.js");var bindEventFuns,_dom=document,shareEles=$(".bdsharebuttonbox .bds"),ajaxing=0;with($("#articleMain").on("click",".js-article-del",function(){$(this).hide().next(".js-confirm").show()}).on("click",".js-btn-cancel",function(){$(this).closest(".js-confirm").hide().prev(".js-article-del").show()}).on("click",".js-btn-del",function(){var a=$(this),c=a.closest("ul").data("id");$.ajax({url:"/article/ajaxdel/id/"+c,dataType:"json",success:function(c){0==c.result?a.closest(".article-item").animate({height:"0px"},function(){$(this).remove(),window.location.reload(),0==$("#articlesList li").length&&$(".plans-main").append('<p class="notattend">你还没有任何原创文章，可以先<a href="/article">去看看文章</a></p>')}):a.closest("ul").find(".js-del-msg").html(c.msg)},error:function(){a.closest("ul").find(".js-del-msg").html("网络错误，请稍后再试")}})}),$(".list-item .share-box .show-btn").on("mouseenter",function(){var a=$(this),c=a.parent();c.hasClass("hover")||c.addClass("hover")}).on("mouseleave",function(e){e.stopPropagation();var a=$(this),c=a.parent();c.hasClass("hover")&&c.removeClass("hover")}),$(".list-item .share-box .share-box-con").on("mouseenter",function(){var a=$(this),c=a.parent();c.hasClass("hover")||c.addClass("hover")}).on("mouseleave",function(e){e.stopPropagation();var a=$(this),c=a.parent();c.hasClass("hover")&&c.removeClass("hover")}),0==$(".share-box-con").find(".icon-edit").length&&$(".bdsharebuttonbox").css("width","138px"),document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="/static/lib/baiduShare/api/js/share.js?cdnversion="+~(-new Date/36e5)];shareEles.on("click",function(e){if(!ajaxing){var a=$(this).parents(".bdsharebuttonbox").data("article-id");ajaxing=1,$.ajax({type:"post",url:"/course/courseshare",data:"id="+a+"&type=5",success:function(){ajaxing=0},error:function(){layer.msg("网络错误，请稍后再试",1,1)},complete:function(){isAjax=0}}),e.preventDefault()}}),bindEventFuns={iconHandlerIn:function(){var a=$(this);a.addClass("mc-active")},iconHandlerOut:function(){var a=$(this);a.attr("show-pane")||a.removeClass("mc-active")},iconClick:function(){var a=$(this),c=a.find(".drop-pane");a.attr("show-pane")?(a.removeClass("mc-active"),a.removeAttr("show-pane"),c.hide()):(a.addClass("mc-active"),a.attr("show-pane","true"),c.show())},domMouseup:function(e){var a=$(".mc-dropdown"),c=a.find(".drop-pane");!a.is(e.target)&&0==a.has(e.target).length&&a.attr("show-pane")&&(c.hide(),a.removeClass("mc-active"),a.removeAttr("show-pane"))}},$(_dom).on("mouseenter",".mc-dropdown",bindEventFuns.iconHandlerIn),$(_dom).on("mouseleave",".mc-dropdown",bindEventFuns.iconHandlerOut),$(_dom).on("click",".mc-dropdown",bindEventFuns.iconClick),$(_dom).on("mouseup",bindEventFuns.domMouseup)});